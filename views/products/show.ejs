<% layout('/layouts/boilerplate') -%>

<div class="container mt-5 mb-5">
  <div class="row">
    <!-- Product Image Section -->
    <div class="col  d-flex justify-content-center">
      <!-- <div id="productCarousel" class="carousel slide" data-bs-ride="carousel"> -->
        <div
        class="card mb-4 col-sm-12"
        style="width: 18rem; background: <%= product.panelcolor %>3f"
      >
        <!-- <img
          src="<%= product.image.url%>"
          style="height: 20rem; mix-blend-mode: multiply; object-fit: contain"
          class="card-img-top p-2"
          alt="..."
        /> -->
        <div class="carousel-inner">
            <% if (product.images && product.images.length > 0) { %>
              <% product.images.forEach((image, index) => { %>
                <div class="carousel-item <%= index === 0 ? 'active' : '' %>">
                  <img src="<%= image.url %>" style="height: 18rem; mix-blend-mode: multiply; object-fit: contain" class="d-block w-100 card-img-top p-2" alt="<%= product.title %>">
                </div>
              <% }) %>
            <% } else { %>
              <div class="carousel-item active">
                <img src="<%= product.image.url %>" class="d-block w-100 card-img-top p-2" style="height: 18rem; mix-blend-mode: multiply; object-fit: contain alt="<%= product.title %>">
              </div>
            <% } %>
          </div>
        <div
          class="card-body"
          style="
            background: <%= product.bgcolor %>40;
            color: <%= product.textcolor%>8f;
          "
        >
          <h5 class="card-title">
            <b
              ><a
                href="/products/<%=product._id%>"
                style="text-decoration: none; color: <%= product.textcolor%>8f"
                ><%= product.title%></a
              ></b
            >
          </h5>
          <div
            class="card-title d-flex justify-content-between align-items-center px-3 py-2 mb-0 mt-3 rounded-pill"
            style="background: <%= product.bgcolor %>90"
          >
            <h5>Net Total</h5>
            <h5>&#8377;<%= product.price.toLocaleString('en-IN')%></h5>
          </div>
          <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
        </div>
      </div>
     
        <!-- <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button> -->
      <!-- </div> -->
    </div>

    <!-- Product Info Section -->
    <div class="col-lg-8 col-md-6">
      <h1 class="display-5"><%= product.title %></h1>
      <h3 class="text-success mb-3">&#8377;<%= product.price.toLocaleString('en-IN')%></h3>
      <p class="lead mb-4 fw-normal text-secondary col-md-10">This stylish item is crafted from high-quality vegan leather and features a classic black and white color scheme.</p>
      
      <!-- Product Specifications -->
       
      <ul class="list-group list-group-flush mb-4 rounded col-md-10">
        <li class="list-group-item">Material: &nbsp; Vegan Lather</li>
        <li class="list-group-item">Color:  &nbsp; Black & White</li>
        <li class="list-group-item">Dimensions:  &nbsp; 50 x 20 cm</li>
        <li class="list-group-item">Weight:  &nbsp; 100g</li>
      </ul>

      <!-- Action Buttons -->
       <% if(currentUser && currentUser._id.equals(product.owner._id)) { %>
      <div class="d-flex col justify-content-between">
        <a href="/products/<%=product._id%>/edit" class="btn btn-success col-md-4">Edit</a>
        <form method="POST" action="/products/<%=product._id%>?_method=DELETE" class="col-md-6">
        <button class="btn btn-danger col-md-8 ">Delete</button>
      </div>
    <% } %>
    </form>
    </div>
  </div>
</div>

<!-- Bootstrap JS and dependencies -->
<!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.min.js"></script> -->
